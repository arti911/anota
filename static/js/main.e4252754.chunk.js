(this["webpackJsonpanota-react"]=this["webpackJsonpanota-react"]||[]).push([[0],{155:function(e,t,n){},156:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(20),a=n.n(c),i=n(23),r=n(71),s=n(185),l=(n(143),n(97)),d=n(129),u=n(184),j=n(180),b=n(181),O=n(6),f=b.a.Text,x=function(e){var t=Object(i.c)((function(e){return e.modal.title}));Object(o.useEffect)((function(){e.setTitleHandler(t)}),[]);var n={onChange:e.setTitleHandler};return Object(O.jsx)(f,{editable:n,children:e.title})},h=n(36),p=n(38),g=n(176),v=n(186),T=n(133),m=n(188),k=n(47),C=Object(k.b)({name:"todo",initialState:{todos:[],isEdit:!1},reducers:{saveTodo:function(e,t){e.todos.push(t.payload)},checkTodo:function(e,t){var n=t.payload,o=n.index,c=n.todo;e.todos.splice(o,1,c)},removeTodo:function(e,t){e.todos.splice(t.payload,1)},toggleEdit:function(e,t){e.isEdit=t.payload},saveEditTodo:function(e,t){var n=e.todos.findIndex((function(e){return e.id===t.payload.id}));e.todos.splice(n,1,t.payload)},editTodos:function(e,t){e.todos=e.todos.concat(t.payload)},cleatTodos:function(e,t){e.todos.splice(0,e.todos.length)}}}),y=C.actions,w=y.saveTodo,N=y.checkTodo,S=y.removeTodo,I=y.toggleEdit,E=y.saveEditTodo,H=y.editTodos,F=y.cleatTodos,W=C.reducer,_=function(e){var t=e.todo,n=e.todos,c=e.index,a=e.setTodoTitleHandler,r=e.setCurrentTodoHandler,s=Object(i.b)(),l=Object(o.useCallback)((function(){s(I(!0)),a(t.title),r(t)}),[s,t,a,r]),u=Object(o.useCallback)((function(){s(S(c)),d.b.success("".concat(t.title," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!"))}),[s,c,t]),b=[Object(O.jsx)(p.a,{shape:"circle",icon:Object(O.jsx)(T.a,{}),type:"primary",onClick:l}),Object(O.jsx)(g.a,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c ".concat(t.title,"?"),okText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",onConfirm:u,children:Object(O.jsx)(p.a,{shape:"circle",icon:Object(O.jsx)(m.a,{}),danger:!0})})],f=Object(o.useCallback)((function(e){s(N({index:c,todo:Object(h.a)(Object(h.a)({},n[c]),{},{isCheck:e.target.checked})}))}),[s,n,c]);return Object(O.jsx)(j.b.Item,{actions:b,children:Object(O.jsx)(v.a,{checked:t.isCheck,onChange:f,children:t.title})})},D=n(177),A=n(183),J=n(62),L=(Date.now(),{id:0,title:"",isCheck:!1}),P=(n(155),function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.todo.isEdit})),c=Object(o.useCallback)((function(t){var n=t.target;e.setTodoTitleHandler(n.value)}),[e]),a=Object(o.useCallback)((function(){var n=Object(h.a)(Object(h.a)({},L),{},{id:Date.now(),title:e.todoTitle});t(w(n))}),[t,e]),r=Object(o.useCallback)((function(){var n=Object(h.a)(Object(h.a)({},e.currentTodo),{},{title:e.todoTitle});t(E(n))}),[t,e]),s=Object(o.useCallback)((function(){n?(r(),t(I(!1))):a(),e.setTodoTitleHandler("")}),[e,n,t,a,r]),l=Object(o.useCallback)((function(){e.setTodoTitleHandler(""),e.setCurrentTodoHandler(null),t(I(!1))}),[e,t]);return Object(O.jsxs)(D.a,{className:"anota-row",gutter:[16,16],children:[Object(O.jsx)(A.a,{placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u043d\u043a\u0442",onChange:c,value:e.todoTitle}),Object(O.jsx)(p.a,{type:"primary",disabled:0===e.todoTitle.length,onClick:s,children:n?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(O.jsx)(p.a,{icon:Object(O.jsx)(J.a,{}),type:"text",onClick:l})]})}),B=Object(k.b)({name:"app",initialState:[],reducers:{getNotes:function(e,t){return t.payload},saveNote:function(e,t){e.push(t.payload)},saveEditNote:function(e,t){e.splice(t.payload.index,1,t.payload.note)},removeNote:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),M=B.actions,U=M.getNotes,z=M.saveNote,R=M.saveEditNote,$=M.removeNote,q=B.reducer,G=Object(k.b)({name:"modal",initialState:{visibleModal:!1,title:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430",currentNoteIndex:null},reducers:{onToggleShow:function(e,t){e.visibleModal=t.payload},setTitleEdit:function(e,t){e.title=t.payload},setCurrentNoteIndex:function(e,t){e.currentNoteIndex=t.payload}}}),K=G.actions,Q=K.onToggleShow,V=K.setTitleEdit,X=K.setCurrentNoteIndex,Y=G.reducer,Z=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.modal.visibleModal})),n=Object(i.c)((function(e){return e.todo.todos})),c=Object(i.c)((function(e){return e.modal.currentNoteIndex})),a=Object(o.useState)(""),r=Object(l.a)(a,2),s=r[0],b=r[1],f=Object(o.useState)(null),h=Object(l.a)(f,2),p=h[0],g=h[1],v=Object(o.useState)(""),T=Object(l.a)(v,2),m=T[0],k=T[1],C=Object(o.useCallback)((function(t){var o={note:{id:Date.now(),title:s,todos:n},index:t};e(R(o)),e(X(null))}),[e,s,n]),y=Object(o.useCallback)((function(){var t={id:Date.now(),title:s,todos:n};e(z(t))}),[e,s,n]),w=Object(o.useCallback)((function(){n.length>0?(Number.isFinite(c)?C(c):y(),e(Q(!1)),e(V("\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430")),e(F()),k("")):d.b.warning("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0432 \u0437\u0430\u043c\u0435\u0442\u043a\u0443!")}),[e,y,C,n,c]);return Object(O.jsxs)(u.a,{title:Object(O.jsx)(x,{title:s,setTitleHandler:b}),visible:t,cancelText:Object(O.jsx)(O.Fragment,{}),destroyOnClose:!0,onOk:w,onCancel:function(){e(Q(!1)),e(F()),e(X(null)),e(V("\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430")),k("")},children:[Object(O.jsx)(P,{todoTitle:m,currentTodo:p,setTodoTitleHandler:k,setCurrentTodoHandler:g}),Object(O.jsx)(j.b,{dataSource:n,renderItem:function(e,t){return Object(O.jsx)(_,{todos:n,todo:e,index:t,setTodoTitleHandler:k,setCurrentTodoHandler:g})}})]})},ee=n(178),te=n(182),ne=(n(156),function(){return Object(O.jsxs)("div",{className:"logo",children:[Object(O.jsx)("span",{}),Object(O.jsx)("span",{}),Object(O.jsx)("span",{}),Object(O.jsx)("span",{})]})}),oe=s.a.Header,ce=function(){var e=Object(i.c)((function(e){return e.anota}));return Object(O.jsx)(oe,{className:"anota__header",children:Object(O.jsxs)(D.a,{justify:"space-between",align:"middle",children:[Object(O.jsx)(ee.a,{children:Object(O.jsx)(ne,{})}),Object(O.jsx)(ee.a,{children:Object(O.jsx)(te.a,{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043c\u0435\u0442\u043e\u043a",value:e.length,valueStyle:{color:"white"}})})]})})},ae=n(189),ie=n(179),re=n(187),se=b.a.Text,le=function(e){var t=Object(i.b)(),n=Object(o.useCallback)((function(){return t($(e.noteId))}),[e.noteId,t]),c=Object(o.useCallback)((function(){t(H(e.noteTodos)),t(V(e.noteTitle)),t(Q(!0)),t(X(e.index))}),[t,e]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.a,{type:"text",block:!0,onClick:c,children:Object(O.jsx)(se,{type:"success",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(O.jsx)(g.a,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c ".concat(e.noteTitle),okText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",onConfirm:n,children:Object(O.jsx)(p.a,{type:"text",block:!0,children:Object(O.jsx)(se,{type:"danger",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})})]})},de=(n(169),b.a.Title),ue=function(e){var t={rows:1,tooltip:!0,expandable:!0,symbol:Object(O.jsx)("span",{})};return Object(O.jsx)("div",{className:"note__card",children:Object(O.jsx)(j.b,{dataSource:e.todos,renderItem:function(e){return Object(O.jsx)(j.b.Item,{children:Object(O.jsx)(v.a,{checked:e.isCheck,children:e.title},e.id)})},header:Object(O.jsxs)(D.a,{justify:"space-between",align:"middle",wrap:!1,children:[Object(O.jsx)(ee.a,{span:"21",children:Object(O.jsx)(de,{level:4,ellipsis:t,style:{textAlign:"left"},children:e.title})}),Object(O.jsx)(ee.a,{span:"3",children:Object(O.jsx)(ie.a,{placement:"bottomRight",trigger:"click",content:Object(O.jsx)(le,{noteId:e.id,noteTitle:e.title,noteTodos:e.todos,index:e.index}),zIndex:"999",children:Object(O.jsx)(p.a,{type:"text",icon:Object(O.jsx)(re.a,{})})})})]}),footer:Object(O.jsxs)(O.Fragment,{children:["Done ",e.todos.filter((function(e){return e.isCheck})).length," of\xa0",e.todos.length]})})})},je=s.a.Content,be=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.anota}));return Object(O.jsxs)(je,{className:"anota__main",children:[Object(O.jsx)(D.a,{gutter:[16,24],children:t.map((function(e,t){return Object(O.jsx)(ee.a,{className:"note",xs:24,sm:24,md:12,lg:8,xl:6,children:Object(O.jsx)(ue,Object(h.a)(Object(h.a)({},e),{},{index:t}))},e.id)}))}),Object(O.jsx)(p.a,{type:"primary",shape:"circle",icon:Object(O.jsx)(ae.a,{}),size:"large",className:"anota__btn-add-note",onClick:function(){return e(Q(!0))}})]})},Oe=s.a.Footer,fe=function(){return Object(O.jsx)(Oe,{})},xe=(n(170),function(){return Object(O.jsxs)(s.a,{className:"anota",children:[Object(O.jsx)(ce,{}),Object(O.jsx)(be,{}),Object(O.jsx)(fe,{}),Object(O.jsx)(Z,{})]})}),he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,190)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),o(e),c(e),a(e),i(e)}))},ve=(n(171),Object(k.a)({reducer:{anota:q,modal:Y,todo:W}}));ve.subscribe((function(){var e={notes:{lists:Object(r.get)(ve.getState(),"anota","")}};localStorage.setItem("vuex",JSON.stringify(e))}));var Te=function(e){try{var t=localStorage.getItem("vuex");if(t)return Object(r.get)(JSON.parse(t),"notes.lists",[])}catch(n){console.log(n)}}();Te&&ve.dispatch(U(Te)),a.a.render(Object(O.jsx)(i.a,{store:ve,children:Object(O.jsx)(xe,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/anota",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/anota","/service-worker.js");he?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):pe(t,e)}))}}(),ge()}},[[172,1,2]]]);
//# sourceMappingURL=main.e4252754.chunk.js.map